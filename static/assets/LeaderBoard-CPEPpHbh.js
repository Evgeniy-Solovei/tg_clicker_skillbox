import{j as a,e as m,u as g,r as p}from"./index-DvFT6pWS.js";import{u as f}from"./useQuery-Ccw6CQnu.js";import{a as h,L as u,P as x}from"./PageUI-BVQzyhEP.js";import{a as j,b as N,q as k}from"./queryClient-CLKmOK--.js";import{g as y}from"./getUser-DJBpJkua.js";import{S as v}from"./SlidingPanel-D7TIO_hb.js";import{i as C}from"./coin-DlK3Y3AM.js";function q(e){return j.get(`${N}/api/top100/${e}/`).then(s=>s.data).catch(s=>{console.log(s)})}const L="_leader__section_jimd4_1",$="_leader__title_jimd4_6",P="_page__list_jimd4_16",o={leader__section:L,leader__title:$,page__list:P},S="/assets/sliding__prize-BXPTTzfC.webp",O="_sliding__button_ff7ql_1",z="_sliding__block_ff7ql_10",I="_sliding__image_ff7ql_22",T="_sliding__title_ff7ql_26",w="_sliding__label_ff7ql_36",t={sliding__button:O,sliding__block:z,sliding__image:I,sliding__title:T,sliding__label:w},E=({initialHeight:e,fullHeight:s,isOpen:l,onClose:i})=>a.jsx(v,{darkened:!0,initialHeight:e,fullHeight:s,isOpen:l,onClose:i,children:a.jsxs("div",{className:t.sliding__block,children:[a.jsx("img",{width:196,height:196,className:t.sliding__image,src:S,alt:""}),a.jsx("h3",{className:t.sliding__title,children:"Супер-приз ждет тебя!"}),a.jsx("p",{className:t.sliding__label,children:"15 декабря игрок, который наберет наибольшее количество баллов, получит супер-приз — iPhone 16!"}),a.jsx("button",{onClick:i,className:t.sliding__button,children:"Ура!"})]})}),F="_leaderboard__item_10r0b_1",H="_back_10r0b_9",U="_leaderboard__avatar_10r0b_13",B="_leaderboard__name_10r0b_19",G="_leaderboard__coins_10r0b_27",K="_iconCoin_10r0b_35",M="_leaderboard__index_10r0b_40",Q="_leaderboard__gift_10r0b_47",_={leaderboard__item:F,back:H,leaderboard__avatar:U,leaderboard__name:B,leaderboard__coins:G,iconCoin:K,leaderboard__index:M,leaderboard__gift:Q},R=({id:e,name:s,points:l,index:i,openModal:d})=>a.jsxs("li",{className:i<=3?`${_.back} ${_.leaderboard__item}`:_.leaderboard__item,children:[a.jsx("span",{className:_.leaderboard__index,children:i}),a.jsx("img",{className:_.leaderboard__avatar,src:h,alt:"avatar"}),i===1&&a.jsx("button",{onClick:d,className:_.leaderboard__gift,children:a.jsx(u,{className:_.leaderboard__svg})}),a.jsx("h2",{className:_.leaderboard__name,children:s}),a.jsx("p",{className:_.leaderboard__coins,children:l}),a.jsx("img",{className:_.iconCoin,src:C,alt:""})]},e),Z=()=>{const e=m(y),{tg_id:s}=g(),[l,i]=p.useState(!1),d=()=>{i(!1)},c=()=>{i(!0)},{data:r}=f({queryFn:()=>q(s),queryKey:["leaderboard"]},k);return a.jsxs(a.Fragment,{children:[a.jsx(x,{className:o.leader__section,className__title:o.leader__title,place:r==null?void 0:r.player_rank,name:e==null?void 0:e.name,coins:e==null?void 0:e.points_all,gift:Number(r==null?void 0:r.player_rank)===1,title:"Leaderboard",time:"До конца осталось: 12 дней 8 часов",isOpen:c,children:a.jsx("ul",{className:o.page__list,children:r==null?void 0:r.top_players.map((n,b)=>a.jsx(R,{openModal:c,index:b+1,id:n.tg_id,name:n.name,points:n.points},n.tg_id))})}),a.jsx(E,{isOpen:l,onClose:d,initialHeight:"70%",fullHeight:"70vh"})]})};export{Z as default};
