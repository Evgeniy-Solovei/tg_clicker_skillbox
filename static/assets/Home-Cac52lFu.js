import{r as l,a as p,s as r,j as e,f as x,e as n,L as f}from"./index-DvFT6pWS.js";import{f as v}from"./friends__invite-Ds21nNo3.js";import{p as j,t as N,H as u,a as b,b as T,c as H,S,d as C}from"./ticket-CYf4EBOv.js";import{g}from"./getUser-DJBpJkua.js";import{g as y}from"./getCurrTicket-unHkMUTY.js";import"./SlidingPanel-D7TIO_hb.js";const w="_home__section_1ciwm_1",$="_imgBoxy_1ciwm_6",h={home__section:w,imgBoxy:$},F="_home__grid_9o10g_1",B="_home__title_9o10g_38",O="_home__label_9o10g_46",E="_home__link_9o10g_58",I="_reverse_9o10g_82",L="_tickets__switcher_9o10g_91",R="_home__ticket_9o10g_113",A="_home__info_9o10g_122",D="_label__tickets_9o10g_130",G="_active_9o10g_143",M="_active_blue_9o10g_154",P="_imgTicket_9o10g_165",U="_home__task_nav_9o10g_170",s={home__grid:F,home__title:B,home__label:O,home__link:E,reverse:I,tickets__switcher:L,home__ticket:R,home__info:A,label__tickets:D,active:G,active_blue:M,imgTicket:P,home__task_nav:U};function k(t){return t===1?"билет":t>=2&&t<5?"билета":"билетов"}const q=({user:t})=>{const[i,a]=l.useState("regular"),_=p();return l.useEffect(()=>{_(r(!0))},[]),e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:`${i==="premium"?`${s.label__tickets} ${s.active_blue}`:s.label__tickets}`,htmlFor:"premium-tickets",children:[e.jsx("span",{className:s.home__ticket,children:t==null?void 0:t.premium_tickets}),e.jsx("span",{className:s.home__info,children:t&&k(t==null?void 0:t.premium_tickets)}),e.jsx("img",{className:s.imgTicket,src:j,alt:""}),e.jsx("input",{checked:i==="premium",onChange:()=>{a("premium")},onClick:()=>{_(x(!1))},name:"tickets",type:"radio"})]}),e.jsxs("label",{className:`${i==="regular"?`${s.label__tickets} ${s.active}`:s.label__tickets}`,htmlFor:"tickets",children:[e.jsx("span",{className:s.home__ticket,children:t==null?void 0:t.tickets}),e.jsx("span",{className:s.home__info,children:t&&k(t==null?void 0:t.tickets)}),e.jsx("img",{className:s.imgTicket,src:N,alt:""}),e.jsx("input",{checked:i==="regular",onChange:()=>{a("regular")},onClick:()=>{_(r(!0))},id:"tickets",name:"tickets",type:"radio"})]})]})},z=[{id:1,title:"Лидерборд",path:"leaderboard",svg:e.jsx(u,{})},{id:2,title:"Каталог",path:"catalog",svg:e.jsx(b,{}),reverse:!0},{id:3,title:"Задания",path:"tasks",svg:e.jsx(T,{className:s.home__task_nav}),reverse:!0},{id:4,title:"Друзей",path:"friends",svg:e.jsx(H,{className:s.home__task_nav})}],J=()=>{const t=n(g);return e.jsxs("ul",{className:s.home__grid,children:[z.map(i=>e.jsx("li",{children:e.jsxs(f,{className:s.home__link,to:i.path,children:[i.title==="Лидерборд"&&e.jsxs("p",{className:s.home__label,children:["#",t==null?void 0:t.rank]}),i.title==="Друзей"&&e.jsx("p",{className:s.home__label,children:t==null?void 0:t.friends_count}),e.jsxs("div",{className:i.reverse?s.reverse:void 0,children:[e.jsx("p",{className:s.home__title,children:i.title}),i.svg]})]})},i.id)),e.jsx("li",{className:s.tickets__switcher,children:e.jsx(q,{user:t})})]})},Z=()=>{const[t,i]=l.useState(!1),[a,_]=l.useState(!1),c=n(g),o=n(y),d=()=>{c&&((c==null?void 0:c.tickets)>0&&o===!0||c.premium_tickets>0&&o===!1?i(!0):((c==null?void 0:c.tickets)<=0&&o===!0||c.premium_tickets>=0&&o===!1)&&_(!0))},m=()=>{i(!1),_(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:h.home__section,children:[e.jsx(J,{}),e.jsx("img",{onClick:d,className:h.imgBoxy,src:v,alt:"скиллбокс"})]}),e.jsx(S,{user:c,fullHeight:"75vh",initialHeight:"75%",onClose:m,isOpen:t}),e.jsx(C,{fullHeight:"40vh",initialHeight:"40%",isOpen:a,onClose:m})]})};export{Z as default};
