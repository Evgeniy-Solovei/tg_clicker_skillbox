import{j as s,r as o,u as d}from"./index-DdiA5spL.js";import{u}from"./useQuery-BYwYFtCt.js";import{a as p,b as x,q as b}from"./queryClient-B3FYqB2U.js";import{i as r}from"./coin-DlK3Y3AM.js";import{S as g}from"./SlidingPanel-CBHHVmZn.js";import"./Portal-CkDHDw94.js";const f="_task__section_jyd9f_1",h="_tasks_list_jyd9f_6",j="_task_title_jyd9f_10",y="_task__item_jyd9f_19",N="_coins_box_jyd9f_32",T="_task_name_jyd9f_38",C="_coins_jyd9f_32",$="_icon_jyd9f_52",l={task__section:f,tasks_list:h,task_title:j,task__item:y,coins_box:N,task_name:T,coins:C,icon:$};function S(n){return p.get(`${x}/api/tasks/${n}/`).then(t=>t.data).catch(t=>{console.log(t)})}const v="_task_title_99sal_1",Y="_task_item_99sal_10",F="_task_name_99sal_26",H="_coins_box_99sal_33",q="_task_btn_99sal_41",w="_task_compl_btn_99sal_58",B="_coins_99sal_33",E="_icon_99sal_82",W="_coin_img_99sal_90",i={task_title:v,task_item:Y,task_name:F,coins_box:H,task_btn:q,task_compl_btn:w,coins:B,icon:E,coin_img:W},K="/assets/iconInst-KKVCkHXf.png",O="/assets/refFriend-ClCxNyvZ.png",z="/assets/iconTel-B2YMwMca.png",A="/assets/iconS-B6ipBvZu.png",M="/assets/iconHeartY-D2heBaz7.png",Z="/assets/iconWebinar-CLWn8zyl.png",D="/assets/iconYoutube-iurrvn-W.png",L=(n,t)=>{switch(n){case"Подписка на инстаграм":return t(K);case"Пригласи друга по реферальной ссылке":return t(O);case"Подписка на телеграм":return t(z);case"Подпишись на бота Skillbox":return t(A);case"Посмотри видео на YouTube":return t(M);case"Посмотри вебинар":return t(Z);case"Подписка на YouTube":return t(D)}},P="_sliding__block_51ypp_1",Q="_name_title_51ypp_14",R="_coin_box_51ypp_23",V="_img_coin_51ypp_30",X="_coins_51ypp_35",G="_btn_51ypp_43",J="_text_info_51ypp_59",U="_btn_check_51ypp_68",e={sliding__block:P,name_title:Q,coin_box:R,img_coin:V,coins:X,btn:G,text_info:J,btn_check:U};function I({fullHeight:n,initialHeight:t,isOpen:_,onClose:a,task:c}){return s.jsx(g,{initialHeight:t,fullHeight:n,darkened:!0,isOpen:_,onClose:a,children:s.jsxs("div",{className:e.sliding__block,children:[s.jsx("p",{className:e.name_title,children:c.task.name}),s.jsxs("div",{className:e.coin_box,children:[s.jsx("img",{className:e.img_coin,src:r,alt:""}),s.jsx("span",{className:e.coins,children:c.task.reward_currency})]}),s.jsx("button",{className:e.btn,children:"Подписаться"}),s.jsx("p",{className:e.text_info,children:"Оставшееся время для модерации, чтобы получить награду: 1 час"}),s.jsx("button",{className:e.btn_check,children:"Проверить"})]})})}function ss({task:n}){const[t,_]=o.useState(),[a,c]=o.useState(!1),m=()=>{c(!0)},k=()=>{c(!1)};return o.useEffect(()=>{L(n.task.name,_)},[n]),s.jsxs(s.Fragment,{children:[s.jsxs("li",{onClick:m,className:i.task_item,children:[s.jsx("p",{className:i.task_name,children:n.task.name}),s.jsxs("div",{className:i.coins_box,children:[s.jsx("img",{className:i.coin_img,src:r,alt:""}),s.jsx("span",{className:i.coins,children:n.task.reward_currency})]}),s.jsx("img",{className:i.icon,src:t})]}),s.jsx(I,{isOpen:a,onClose:k,initialHeight:"70%",fullHeight:"70vh",task:n})]})}function is(){const{tg_id:n}=d(),[t,_]=o.useState([]),{data:a}=u({queryFn:()=>S(n),queryKey:["tasks"]},b);return o.useEffect(()=>{a&&_(a.reverse())},[a]),s.jsx(s.Fragment,{children:s.jsxs("section",{className:l.task__section,children:[s.jsx("h1",{className:l.task_title,children:"Задания"}),s.jsx("ul",{className:l.tasks_list,children:t.map(c=>s.jsx(ss,{task:c},c.task.id))})]})})}export{is as default};
