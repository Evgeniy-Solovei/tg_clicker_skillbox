import{j as s,r as o,u as k}from"./index-DHr3eLxt.js";import{u as x}from"./useQuery-ajI1bhSU.js";import{a as u,b as p,q as d}from"./queryClient-lERMZ_rW.js";import{i as r}from"./coin-DlK3Y3AM.js";import{S as b}from"./SlidingPanel-DZDnxgmH.js";import"./Portal-BAlHdt1B.js";const g="_task__section_qtx4t_1",h="_tasks_list_qtx4t_6",f="_task_title_qtx4t_10",j="_task__item_qtx4t_19",y="_coins_box_qtx4t_32",N="_task_name_qtx4t_38",q="_coins_qtx4t_32",T="_icon_qtx4t_52",l={task__section:g,tasks_list:h,task_title:f,task__item:j,coins_box:y,task_name:N,coins:q,icon:T};function C(n){return u.get(`${p}/api/tasks/${n}/`).then(t=>t.data).catch(t=>{console.log(t)})}const $="_task_title_99sal_1",S="_task_item_99sal_10",v="_task_name_99sal_26",Y="_coins_box_99sal_33",F="_task_btn_99sal_41",H="_task_compl_btn_99sal_58",w="_coins_99sal_33",B="_icon_99sal_82",E="_coin_img_99sal_90",i={task_title:$,task_item:S,task_name:v,coins_box:Y,task_btn:F,task_compl_btn:H,coins:w,icon:B,coin_img:E},W="/assets/iconInst-KKVCkHXf.png",K="/assets/refFriend-ClCxNyvZ.png",z="/assets/iconTel-B2YMwMca.png",A="/assets/iconS-B6ipBvZu.png",M="/assets/iconHeartY-D2heBaz7.png",O="/assets/iconWebinar-CLWn8zyl.png",Z="/assets/iconYoutube-iurrvn-W.png",D=(n,t)=>{switch(n){case"Подписка на инстаграм":return t(W);case"Пригласи друга по реферальной ссылке":return t(K);case"Подписка на телеграм":return t(z);case"Подпишись на бота Skillbox":return t(A);case"Посмотри видео на YouTube":return t(M);case"Посмотри вебинар":return t(O);case"Подписка на YouTube":return t(Z)}},L="_sliding__block_51ypp_1",P="_name_title_51ypp_14",Q="_coin_box_51ypp_23",R="_img_coin_51ypp_30",V="_coins_51ypp_35",X="_btn_51ypp_43",G="_text_info_51ypp_59",J="_btn_check_51ypp_68",e={sliding__block:L,name_title:P,coin_box:Q,img_coin:R,coins:V,btn:X,text_info:G,btn_check:J};function U({fullHeight:n,initialHeight:t,isOpen:_,onClose:a,task:c}){return s.jsx(b,{initialHeight:t,fullHeight:n,darkened:!0,isOpen:_,onClose:a,children:s.jsxs("div",{className:e.sliding__block,children:[s.jsx("p",{className:e.name_title,children:c.task.name}),s.jsxs("div",{className:e.coin_box,children:[s.jsx("img",{className:e.img_coin,src:r,alt:""}),s.jsx("span",{className:e.coins,children:c.task.reward_currency})]}),s.jsx("button",{className:e.btn,children:"Подписаться"}),s.jsx("p",{className:e.text_info,children:"Оставшееся время для модерации, чтобы получить награду: 1 час"}),s.jsx("button",{className:e.btn_check,children:"Проверить"})]})})}function I({task:n}){const[t,_]=o.useState();o.useEffect(()=>{D(n.task.name,_)},[n]);const[a,c]=o.useState(!1),m=()=>{c(!1)};return s.jsxs(s.Fragment,{children:[" ",s.jsxs("li",{onClick:()=>c(!0),className:i.task_item,children:[s.jsx("p",{className:i.task_name,children:n.task.name}),s.jsxs("div",{className:i.coins_box,children:[s.jsx("img",{className:i.coin_img,src:r,alt:""}),s.jsx("span",{className:i.coins,children:n.task.reward_currency})]}),s.jsx("img",{className:i.icon,src:t})]}),s.jsx(U,{isOpen:a,onClose:m,initialHeight:"70%",fullHeight:"70vh",task:n})]})}function _s(){const{tg_id:n}=k(),[t,_]=o.useState([]),{data:a}=x({queryFn:()=>C(n),queryKey:["tasks"]},d);return o.useEffect(()=>{a&&_(a.reverse())},[a]),s.jsx(s.Fragment,{children:s.jsxs("section",{className:l.task__section,children:[s.jsx("h1",{className:l.task_title,children:"Задания"}),s.jsx("ul",{className:l.tasks_list,children:t.map(c=>s.jsx(I,{task:c},c.task.id))})]})})}export{_s as default};
