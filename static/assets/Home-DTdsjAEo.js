import{r as c,a as g,s as o,j as e,f as k,d as m,L as d}from"./index-D6lMSkWz.js";import{f as p}from"./friends__invite-Ds21nNo3.js";import{p as x,t as v,H as j,a as f,b as N,c as b,S as u}from"./ticket-0XRnMqrv.js";import{g as r}from"./getUser-DJBpJkua.js";import"./SlidingPanel-vRByHqie.js";import"./getCurrTicket-unHkMUTY.js";const T="_home__section_1pmn5_1",H="_imgBoxy_1pmn5_6",l={home__section:T,imgBoxy:H},S="_home__grid_9o10g_1",y="_home__title_9o10g_38",C="_home__label_9o10g_46",$="_home__link_9o10g_58",w="_reverse_9o10g_82",F="_tickets__switcher_9o10g_91",B="_home__ticket_9o10g_113",E="_home__info_9o10g_122",L="_label__tickets_9o10g_130",O="_active_9o10g_143",I="_active_blue_9o10g_154",R="_imgTicket_9o10g_165",A="_home__task_nav_9o10g_170",s={home__grid:S,home__title:y,home__label:C,home__link:$,reverse:w,tickets__switcher:F,home__ticket:B,home__info:E,label__tickets:L,active:O,active_blue:I,imgTicket:R,home__task_nav:A};function n(t){return t===1?"билет":t>=2&&t<5?"билета":"билетов"}const D=({user:t})=>{const[i,_]=c.useState("regular"),a=g();return c.useEffect(()=>{a(o(!0))},[]),e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:`${i==="premium"?`${s.label__tickets} ${s.active_blue}`:s.label__tickets}`,htmlFor:"premium-tickets",children:[e.jsx("span",{className:s.home__ticket,children:t==null?void 0:t.premium_tickets}),e.jsx("span",{className:s.home__info,children:t&&n(t==null?void 0:t.premium_tickets)}),e.jsx("img",{className:s.imgTicket,src:x,alt:""}),e.jsx("input",{checked:i==="premium",onChange:()=>{_("premium")},onClick:()=>{a(k(!1))},name:"tickets",type:"radio"})]}),e.jsxs("label",{className:`${i==="regular"?`${s.label__tickets} ${s.active}`:s.label__tickets}`,htmlFor:"tickets",children:[e.jsx("span",{className:s.home__ticket,children:t==null?void 0:t.tickets}),e.jsx("span",{className:s.home__info,children:t&&n(t==null?void 0:t.tickets)}),e.jsx("img",{className:s.imgTicket,src:v,alt:""}),e.jsx("input",{checked:i==="regular",onChange:()=>{_("regular")},onClick:()=>{a(o(!0))},id:"tickets",name:"tickets",type:"radio"})]})]})},G=[{id:1,title:"Лидерборд",path:"leaderboard",svg:e.jsx(j,{})},{id:2,title:"Каталог",path:"catalog",svg:e.jsx(f,{}),reverse:!0},{id:3,title:"Задания",path:"tasks",svg:e.jsx(N,{className:s.home__task_nav}),reverse:!0},{id:4,title:"Друзей",path:"friends",svg:e.jsx(b,{className:s.home__task_nav})}],M=()=>{const t=m(r);return e.jsxs("ul",{className:s.home__grid,children:[G.map(i=>e.jsx("li",{children:e.jsxs(d,{className:s.home__link,to:i.path,children:[i.title==="Лидерборд"&&e.jsxs("p",{className:s.home__label,children:["#",t==null?void 0:t.rank]}),i.title==="Друзей"&&e.jsx("p",{className:s.home__label,children:t==null?void 0:t.friends_count}),e.jsxs("div",{className:i.reverse?s.reverse:void 0,children:[e.jsx("p",{className:s.home__title,children:i.title}),i.svg]})]})},i.id)),e.jsx("li",{className:s.tickets__switcher,children:e.jsx(D,{user:t})})]})},Q=()=>{const[t,i]=c.useState(!1),_=m(r),a=()=>{_&&i(!0)},h=()=>{i(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:l.home__section,children:[e.jsx(M,{}),e.jsx("img",{onClick:a,className:l.imgBoxy,src:p,alt:"скиллбокс"})]}),e.jsx(u,{user:_,fullHeight:"75vh",initialHeight:"75%",onClose:h,isOpen:t})]})};export{Q as default};
