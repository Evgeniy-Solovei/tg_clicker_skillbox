import{g as R,h as I,r,j as d}from"./index-DPZHz7Nu.js";var j={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(l){(function(){var c={}.hasOwnProperty;function s(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];i&&(e=n(e,f(i)))}return e}function f(e){if(typeof e=="string"||typeof e=="number")return e;if(typeof e!="object")return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var i in e)c.call(e,i)&&e[i]&&(t=n(t,i));return t}function n(e,t){return t?e?e+" "+t:e+t:e}l.exports?(s.default=s,l.exports=s):window.classNames=s})()})(j);var M=j.exports;const Y=R(M),T="_slidingPanel_mtspc_1",D="_sliding_mtspc_1",Z="_dragZone_mtspc_23",A="_dragHandle_mtspc_30",$="_overlay_mtspc_42",z="_panelContent_mtspc_50",F="_darkened_mtspc_55",K="_visible_mtspc_63",U="_expanded_mtspc_68",V="_bodyOpen_mtspc_72",o={slidingPanel:T,sliding:D,dragZone:Z,dragHandle:A,overlay:$,panelContent:z,darkened:F,visible:K,expanded:U,bodyOpen:V};function q(l){const{children:c,element:s=document.body}=l;return I.createPortal(c,s)}function G(l){const{initialHeight:c,fullHeight:s,children:f,isOpen:n,onClose:e,darkened:t,className:i="",lazy:S,scrollLock:H}=l,[u,p]=r.useState("0"),y=r.useRef(null),g=r.useRef(0),x=r.useRef(0),m=r.useRef(),v=r.useRef(null),[N,O]=r.useState(!1),P=a=>{g.current=a.touches[0].clientY,x.current=parseInt(u),document.addEventListener("touchmove",h),document.addEventListener("touchend",_)},h=a=>{const w=g.current-a.touches[0].clientY,L=x.current+w;w>0?v.current="up":v.current="down",L>=parseInt(s)?p(s):L<=parseInt(c)&&p(c)},_=()=>{document.removeEventListener("touchmove",h),document.removeEventListener("touchend",_),parseInt(u)<=parseInt(c)&&v.current==="down"&&(p("0"),e&&(m.current=setTimeout(()=>{e()},300)))},E=a=>{a.key==="Escape"&&n&&e&&(m.current=setTimeout(()=>{e()},300))},b=()=>{n&&e&&(m.current=setTimeout(()=>{e()},300))},k=a=>{t&&a.target===y.current&&e()};r.useEffect(()=>(n&&(document.body.classList.add(o.bodyOpen),p(c),document.addEventListener("keydown",E),window.addEventListener("popstate",b)),()=>{clearTimeout(m.current),document.body.classList.remove(o.bodyOpen),document.removeEventListener("touchmove",h),document.removeEventListener("touchend",_),document.removeEventListener("keydown",E),window.removeEventListener("popstate",b)}),[n]);const C={[o.visible]:n,[o.darkened]:n?t:!1};return r.useEffect(()=>{n&&O(!0)},[n]),S&&!N?null:d.jsx(q,{children:d.jsx("div",{ref:y,className:Y(o.slidingPanel,C,["app_modal",i]),onClick:k,style:t?{}:{height:n?u:"0",bottom:n?"0":`-${s}`,transition:"height 0.3s ease"},children:d.jsx("div",{className:o.sliding,style:t?{height:n?u:"0",bottom:n?"0":`-${s}`,transition:"height 0.3s ease"}:{},children:d.jsxs("div",{className:o.overlay,style:u==="50%"&&H?{overflowY:"hidden"}:{overflowY:"scroll"},children:[d.jsx("div",{onTouchStart:P,className:o.dragZone,children:d.jsx("div",{className:o.dragHandle})}),d.jsx("div",{className:o.panelContent,children:f})]})})})})}export{q as P,G as S,Y as c};
