import{j as e,r as l,u as f}from"./index-C1gqFuf-.js";import{l as $}from"./logo-C9EBW7GV.js";const E="_falling_letters_container_1vg20_1",M="_img_open_box_1vg20_21",B="_logo_1vg20_33",y={falling_letters_container:E,img_open_box:M,logo:B},C="/assets/S-white-DJHRycHD.png",U=({x:t,duration:n,id:r,onClick:i})=>e.jsxs("button",{className:"btn",onTouchStart:()=>i(r),id:r,style:{left:`${t}%`,animationDuration:`${n}s`},children:[" ",e.jsx("img",{src:C,className:"falling_letter_white"})]}),c=[];for(let t=0;t<256;++t)c.push((t+256).toString(16).slice(1));function R(t,n=0){return(c[t[n+0]]+c[t[n+1]]+c[t[n+2]]+c[t[n+3]]+"-"+c[t[n+4]]+c[t[n+5]]+"-"+c[t[n+6]]+c[t[n+7]]+"-"+c[t[n+8]]+c[t[n+9]]+"-"+c[t[n+10]]+c[t[n+11]]+c[t[n+12]]+c[t[n+13]]+c[t[n+14]]+c[t[n+15]]).toLowerCase()}let S;const L=new Uint8Array(16);function T(){if(!S){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");S=crypto.getRandomValues.bind(crypto)}return S(L)}const H=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),I={randomUUID:H};function g(t,n,r){if(I.randomUUID&&!n&&!t)return I.randomUUID();t=t||{};const i=t.random||(t.rng||T)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,R(i)}const V="_timer_container_1vdlq_1",O="_time_1vdlq_1",N={timer_container:V,time:O},P=t=>{const n=Math.floor(t%3600/60),r=t%60;return`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`};function q({setIsVision:t,time:n,setTimer:r}){return l.useEffect(()=>{const i=setInterval(()=>{r(m=>m-1)},1e3);return()=>clearInterval(i)},[n]),l.useEffect(()=>{n===0&&t(!1)},[n]),e.jsx("div",{className:N.timer_container,children:e.jsx("div",{className:N.time,children:P(n)})})}const A="/assets/S-blue-Dh_q71fZ.png",J=[{id:g(),duration:3,x:38},{id:g(),duration:1,x:58}],W=({setCount:t,blueLetter:n,setBlueLetter:r})=>{const{tg:i}=f(),m=l.useRef([]),[u,x]=l.useState(0),d=o=>{r(a=>a.filter(s=>s.id!==o)),t(a=>a-3),i.HapticFeedback.impactOccurred("light")};return l.useEffect(()=>{const o=setInterval(()=>{if(u<5){const a=J.map(s=>({...s,id:g(),duration:Math.random()+2}));r(s=>[...s,...a]),x(s=>s+1)}},2e3);return()=>clearInterval(o)},[u]),l.useEffect(()=>{const a=setInterval(()=>{m.current.forEach(s=>{s&&s.getBoundingClientRect().bottom>=window.innerHeight&&(t(v=>v+3),r(v=>v.filter(b=>b.id!==s.id)))})},10);return()=>clearInterval(a)},[n,t,r]),e.jsx(e.Fragment,{children:n.map((o,a)=>e.jsxs("button",{className:"btn_blue",onTouchStart:()=>d(o.id),id:o.id,ref:s=>m.current[a]=s,style:{left:`${o.x}%`,animationDuration:`${o.duration}s`},children:[" ",e.jsx("img",{className:"falling_letter_blue",src:A})]},o.id))})},G="_counter_container_47eta_1",K="_counter_47eta_1",w={counter_container:G,counter:K};function Z({count:t}){return e.jsx("div",{className:w.counter_container,children:e.jsx("div",{className:w.counter,children:t})})}const z="/assets/bomb-DeoDqckm.png";function D(){return Math.floor(Math.random()*81)+10}function Q({setCount:t,setWhiteLetter:n,setBlueLetter:r,setFlask:i}){const[m,u]=l.useState([]),{tg:x}=f(),d=o=>{u(a=>a.filter(s=>s.id!==o)),n([]),r([]),i([]),t(a=>a-10),x.HapticFeedback.impactOccurred("heavy")};return l.useEffect(()=>{const a=setInterval(()=>{const s={x:D(),duration:Math.random()+2,id:g().toString()};u(h=>[...h,s])},4e3);return()=>clearInterval(a)},[]),e.jsx(e.Fragment,{children:m.map(o=>e.jsxs("button",{className:"btn_bomb",onTouchStart:()=>d(o.id),id:o.id,style:{left:`${o.x}%`,animationDuration:`${o.duration}s`},children:[" ",e.jsx("img",{src:z,className:"falling_bomb"})]},o.id))})}const X="/assets/flask-0VLBKfJP.png";function Y({setCount:t,flasks:n,setFlask:r}){const{tg:i}=f(),m=d=>{r(o=>o.filter(a=>a.id!==d)),t(o=>o+5),i.HapticFeedback.impactOccurred("light")},[u,x]=l.useState(0);return l.useEffect(()=>{const o=setInterval(()=>{if(u<3){const a={x:D(),duration:Math.random()+2,id:g().toString()};r(s=>[...s,a]),x(s=>s+1)}},4200);return()=>clearInterval(o)},[u]),e.jsx(e.Fragment,{children:n.map(d=>e.jsxs("button",{className:"btn_flask",onTouchStart:()=>m(d.id),id:d.id,style:{left:`${d.x}%`,animationDuration:`${d.duration}s`},children:[" ",e.jsx("img",{src:X,className:"falling_flask"})]},d.id))})}const tt="/assets/open-box-BIBPcrIn.png",nt=[{id:g(),duration:Math.random()*3+2,x:10},{id:g(),duration:Math.random()*3+2,x:30},{id:g(),duration:Math.random()*3+2,x:50},{id:g(),duration:Math.random()*3+2,x:70},{id:g(),duration:Math.random()*3+2,x:85}],et="_modal_7v2vv_1",ot="_overlay_7v2vv_14",st="_content_7v2vv_20",k={modal:et,overlay:ot,content:st};function at({children:t}){return e.jsx("div",{className:k.modal,children:e.jsx("div",{className:k.overlay,children:e.jsx("div",{className:k.content,children:t})})})}function ct(){const[t,n]=l.useState(!0),[r,i]=l.useState(15),[m,u]=l.useState(0),[x,d]=l.useState([]),[o,a]=l.useState([]),[s,h]=l.useState([]),{tg:v}=f();l.useEffect(()=>{const _=setInterval(()=>{d(p=>{const j=nt.map(F=>({...F,id:g(),duration:Math.random()+1.8}));return[...p,...j]})},800);return()=>clearInterval(_)},[]);const b=_=>{d(p=>p.filter(j=>j.id!==_)),u(p=>p+1),v.HapticFeedback.impactOccurred("light")};return e.jsx(at,{children:t?e.jsxs("div",{className:y.falling_letters_container,children:[e.jsx(q,{time:r,setTimer:i,setIsVision:n}),e.jsx("img",{src:$,className:y.logo}),e.jsx(Z,{count:m}),x.map(_=>e.jsx(U,{onClick:()=>b(_.id),id:_.id,x:_.x,duration:_.duration},_.id)),e.jsx(W,{setCount:u,blueLetter:o,setBlueLetter:a}),e.jsx(Y,{setCount:i,flasks:s,setFlask:h}),e.jsx(Q,{setCount:u,setWhiteLetter:d,setBlueLetter:a,setFlask:h}),e.jsx("img",{src:tt,className:y.img_open_box})]}):e.jsx("h1",{style:{color:"white"},children:m})})}export{ct as default};
