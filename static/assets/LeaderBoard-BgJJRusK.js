import{j as a,e as g,u as m,r as p}from"./index-ZWtHBrIM.js";import{i as f,u as h}from"./coin-BjymaXKy.js";import{a as u,L as x,P as j}from"./PageUI-CfEA9EQq.js";import{a as N,b as k,q as y}from"./queryClient-DxFeriw2.js";import{g as v}from"./getUser-DJBpJkua.js";import{S as C}from"./SlidingPanel-BfQtTPUk.js";function q(e){return N.get(`${k}/api/top100/${e}/`).then(s=>s.data).catch(s=>{console.log(s)})}const L="_leader__section_jimd4_1",$="_leader__title_jimd4_6",P="_page__list_jimd4_16",o={leader__section:L,leader__title:$,page__list:P},S="/assets/sliding__prize-BXPTTzfC.webp",O="_sliding__button_ff7ql_1",z="_sliding__block_ff7ql_10",I="_sliding__image_ff7ql_22",T="_sliding__title_ff7ql_26",w="_sliding__label_ff7ql_36",t={sliding__button:O,sliding__block:z,sliding__image:I,sliding__title:T,sliding__label:w},E=({initialHeight:e,fullHeight:s,isOpen:r,onClose:i})=>a.jsx(C,{darkened:!0,initialHeight:e,fullHeight:s,isOpen:r,onClose:i,children:a.jsxs("div",{className:t.sliding__block,children:[a.jsx("img",{width:196,height:196,className:t.sliding__image,src:S,alt:""}),a.jsx("h3",{className:t.sliding__title,children:"Супер-приз ждет тебя!"}),a.jsx("p",{className:t.sliding__label,children:"15 декабря игрок, который наберет наибольшее количество баллов, получит супер-приз — iPhone 16!"}),a.jsx("button",{onClick:i,className:t.sliding__button,children:"Ура!"})]})}),F="_leaderboard__item_10r0b_1",H="_back_10r0b_9",U="_leaderboard__avatar_10r0b_13",B="_leaderboard__name_10r0b_19",G="_leaderboard__coins_10r0b_27",K="_iconCoin_10r0b_35",M="_leaderboard__index_10r0b_40",Q="_leaderboard__gift_10r0b_47",_={leaderboard__item:F,back:H,leaderboard__avatar:U,leaderboard__name:B,leaderboard__coins:G,iconCoin:K,leaderboard__index:M,leaderboard__gift:Q},R=({id:e,name:s,points:r,index:i,openModal:d})=>a.jsxs("li",{className:i<=3?`${_.back} ${_.leaderboard__item}`:_.leaderboard__item,children:[a.jsx("span",{className:_.leaderboard__index,children:i}),a.jsx("img",{className:_.leaderboard__avatar,src:u,alt:"avatar"}),i===1&&a.jsx("button",{onClick:d,className:_.leaderboard__gift,children:a.jsx(x,{className:_.leaderboard__svg})}),a.jsx("h2",{className:_.leaderboard__name,children:s}),a.jsx("p",{className:_.leaderboard__coins,children:r}),a.jsx("img",{className:_.iconCoin,src:f,alt:""})]},e),Y=()=>{const e=g(v),{tg_id:s}=m(),[r,i]=p.useState(!1),d=()=>{i(!1)},c=()=>{i(!0)},{data:l}=h({queryFn:()=>q(s),queryKey:["leaderboard"]},y);return a.jsxs(a.Fragment,{children:[a.jsx(j,{className:o.leader__section,className__title:o.leader__title,place:l==null?void 0:l.player_rank,name:e==null?void 0:e.name,coins:e==null?void 0:e.points_all,gift:Number(l==null?void 0:l.player_rank)===1,title:"Leaderboard",time:"До конца осталось: 12 дней 8 часов",isOpen:c,children:a.jsx("ul",{className:o.page__list,children:l==null?void 0:l.top_players.map((n,b)=>a.jsx(R,{openModal:c,index:b+1,id:n.tg_id,name:n.name,points:n.points},n.tg_id))})}),a.jsx(E,{isOpen:r,onClose:d,initialHeight:"70%",fullHeight:"70vh"})]})};export{Y as default};
