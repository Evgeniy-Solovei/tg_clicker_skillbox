import{j as a,d as g,u as b,r as p}from"./index-Cwynt72J.js";import{u as j}from"./useQuery-UxRAPUcF.js";import{a as h,L as u,P as x}from"./PageUI-BxWY056k.js";import{a as f,b as N,q as v}from"./queryClient-BGZAphoH.js";import{g as k}from"./getUser-DJBpJkua.js";import{S as y}from"./SlidingPanel-CO9Zl8SQ.js";import{i as C}from"./coin-DlK3Y3AM.js";import"./Portal-WWRGXgzn.js";function L(e){return f.get(`${N}/api/top100/${e}/`).then(_=>_.data).catch(_=>{console.log(_)})}const $="_leader__section_d37jh_1",S="_leader__title_d37jh_6",O="_page__list_d37jh_16",d={leader__section:$,leader__title:S,page__list:O},P="/assets/sliding__prize-B9vwOjVE.png",q="_sliding__button_10fa0_1",E="_sliding__block_10fa0_8",I="_sliding__image_10fa0_20",z="_sliding__title_10fa0_24",F="_sliding__label_10fa0_33",l={sliding__button:q,sliding__block:E,sliding__image:I,sliding__title:z,sliding__label:F},H=({initialHeight:e,fullHeight:_,isOpen:t,onClose:s})=>a.jsx(y,{darkened:!0,initialHeight:e,fullHeight:_,isOpen:t,onClose:s,children:a.jsxs("div",{className:l.sliding__block,children:[a.jsx("img",{className:l.sliding__image,src:P,alt:""}),a.jsx("h3",{className:l.sliding__title,children:"Супер-приз ждет тебя!"}),a.jsx("p",{className:l.sliding__label,children:"15 декабря игрок, который наберет наибольшее количество баллов, получит супер-приз — iPhone 16!"}),a.jsx("button",{onClick:s,className:l.sliding__button,children:"Ура!"})]})}),U="_leaderboard__item_cj08m_1",w="_back_cj08m_9",B="_leaderboard__avatar_cj08m_13",G="_leaderboard__name_cj08m_19",K="_leaderboard__coins_cj08m_26",Q="_iconCoin_cj08m_33",R="_leaderboard__index_cj08m_38",T="_leaderboard__svg_cj08m_45",r={leaderboard__item:U,back:w,leaderboard__avatar:B,leaderboard__name:G,leaderboard__coins:K,iconCoin:Q,leaderboard__index:R,leaderboard__svg:T},V=({id:e,name:_,points:t,index:s})=>a.jsxs("li",{className:s<=3?`${r.back} ${r.leaderboard__item}`:r.leaderboard__item,children:[a.jsx("span",{className:r.leaderboard__index,children:s}),a.jsx("img",{className:r.leaderboard__avatar,src:h,alt:"avatar"}),s===1&&a.jsx(u,{className:r.leaderboard__svg}),a.jsx("h2",{className:r.leaderboard__name,children:_}),a.jsx("p",{className:r.leaderboard__coins,children:t}),a.jsx("img",{className:r.iconCoin,src:C,alt:""})]},e),aa=()=>{const e=g(k),{tg_id:_}=b(),[t,s]=p.useState(!1),o=()=>{s(!1)},c=()=>{s(!0)},{data:i}=j({queryFn:()=>L(_),queryKey:["leaderboard"]},v);return a.jsxs(a.Fragment,{children:[a.jsx(x,{className:d.leader__section,className__title:d.leader__title,place:i==null?void 0:i.player_rank,name:e==null?void 0:e.name,coins:e==null?void 0:e.points_all,gift:Number(i==null?void 0:i.player_rank)===1,title:"Leaderboard",time:"До конца осталось: 12 дней 8 часов",isOpen:c,children:a.jsx("ul",{className:d.page__list,children:i==null?void 0:i.top_players.map((n,m)=>a.jsx(V,{index:m+1,id:n.tg_id,name:n.name,points:n.points},n.tg_id))})}),a.jsx(H,{isOpen:t,onClose:o,initialHeight:"70%",fullHeight:"70vh"})]})};export{aa as default};
