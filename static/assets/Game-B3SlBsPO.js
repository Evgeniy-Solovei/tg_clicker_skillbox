import{j as e,r as u,u as N}from"./index-Bxxkibi-.js";import{l as w}from"./logo-C9EBW7GV.js";const M="_falling_letters_container_1qnkf_1",E="_img_open_box_1qnkf_21",L="_logo_1qnkf_33",U="_canv_1qnkf_47",b={falling_letters_container:M,img_open_box:E,logo:L,canv:U},T="/assets/S-white-DJHRycHD.png",q=({x:t,duration:n,id:r,onClick:s})=>e.jsxs("button",{className:"btn",onTouchStart:()=>s(r),id:r,style:{left:`${t}%`,animationDuration:`${n}s`},children:[" ",e.jsx("img",{src:T,className:"falling_letter_white"})]}),i=[];for(let t=0;t<256;++t)i.push((t+256).toString(16).slice(1));function C(t,n=0){return(i[t[n+0]]+i[t[n+1]]+i[t[n+2]]+i[t[n+3]]+"-"+i[t[n+4]]+i[t[n+5]]+"-"+i[t[n+6]]+i[t[n+7]]+"-"+i[t[n+8]]+i[t[n+9]]+"-"+i[t[n+10]]+i[t[n+11]]+i[t[n+12]]+i[t[n+13]]+i[t[n+14]]+i[t[n+15]]).toLowerCase()}let p;const F=new Uint8Array(16);function R(){if(!p){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");p=crypto.getRandomValues.bind(crypto)}return p(F)}const V=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),y={randomUUID:V};function m(t,n,r){if(y.randomUUID&&!n&&!t)return y.randomUUID();t=t||{};const s=t.random||(t.rng||R)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,C(s)}const H="_timer_container_1vdlq_1",A="_time_1vdlq_1",S={timer_container:H,time:A},O=t=>{const n=Math.floor(t%3600/60),r=t%60;return`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`};function P({setIsVision:t,time:n,setTimer:r}){return u.useEffect(()=>{const s=setInterval(()=>{r(c=>c-1)},1e3);return()=>clearInterval(s)},[n]),u.useEffect(()=>{n===0&&t(!1)},[n]),e.jsx("div",{className:S.timer_container,children:e.jsx("div",{className:S.time,children:O(n)})})}const J="/assets/S-blue-Dh_q71fZ.png",W=[{id:m(),duration:3,x:38},{id:m(),duration:1,x:58}],G=({setCount:t,blueLetter:n,setBlueLetter:r})=>{const{tg:s}=N(),c=o=>{r(a=>a.filter(l=>l.id!==o)),t(a=>{if(a<=3)a=0;else return a-3;return a}),s.HapticFeedback.impactOccurred("heavy")};return u.useEffect(()=>{const o=setInterval(()=>{r(a=>{const l=W.map(d=>({...d,id:m(),duration:Math.random()+2}));return[...a,...l]})},2e3);return()=>clearInterval(o)},[]),e.jsx(e.Fragment,{children:n.map(o=>e.jsxs("button",{className:"btn_blue",onTouchStart:()=>c(o.id),id:o.id,style:{left:`${o.x}%`,animationDuration:`${o.duration}s`},children:[" ",e.jsx("img",{className:"falling_letter_blue",src:J})]},o.id))})},K="_counter_container_47eta_1",Z="_counter_47eta_1",I={counter_container:K,counter:Z};function z({count:t}){return e.jsx("div",{className:I.counter_container,children:e.jsx("div",{className:I.counter,children:t})})}const Q="/assets/bomb-DeoDqckm.png";function k(){return Math.floor(Math.random()*81)+10}function X({setCount:t,setWhiteLetter:n,setBlueLetter:r,setFlask:s,count:c}){const[o,a]=u.useState([]),l=d=>{a(g=>g.filter(x=>x.id!==d)),n([]),r([]),s([]),c<=10?t(0):t(g=>g-10)};return u.useEffect(()=>{const g=setInterval(()=>{const x={x:k(),duration:Math.random()*3+2,id:m().toString()};a(f=>[...f,x])},4e3);return()=>clearInterval(g)},[]),e.jsx(e.Fragment,{children:o.map(d=>e.jsxs("button",{className:"btn_bomb",onTouchStart:()=>l(d.id),id:d.id,style:{left:`${d.x}%`,animationDuration:`${d.duration}s`},children:[" ",e.jsx("img",{src:Q,className:"falling_bomb"})]}))})}const Y="/assets/flask-0VLBKfJP.png";function tt({setCount:t,flasks:n,setFlask:r}){const s=c=>{r(o=>o.filter(a=>a.id!==c)),t(o=>o+5)};return u.useEffect(()=>{const o=setInterval(()=>{const a={x:k(),duration:Math.random()*3+2,id:m().toString()};r(l=>l.length===3?[...l.slice(1),a]:[...l,a])},4200);return()=>clearInterval(o)},[]),e.jsx(e.Fragment,{children:n.map(c=>e.jsxs("button",{className:"btn_flask",onTouchStart:()=>s(c.id),id:c.id,style:{left:`${c.x}%`,animationDuration:`${c.duration}s`},children:[" ",e.jsx("img",{src:Y,className:"falling_flask"})]}))})}const nt="/assets/open-box-BIBPcrIn.png",et=[{id:m(),duration:Math.random()*3+2,x:10},{id:m(),duration:Math.random()*3+2,x:30},{id:m(),duration:Math.random()*3+2,x:50},{id:m(),duration:Math.random()*3+2,x:70},{id:m(),duration:Math.random()*3+2,x:85}],ot="_modal_7v2vv_1",st="_overlay_7v2vv_14",at="_content_7v2vv_20",j={modal:ot,overlay:st,content:at};function rt({children:t}){return e.jsx("div",{className:j.modal,children:e.jsx("div",{className:j.overlay,children:e.jsx("div",{className:j.content,children:t})})})}function lt(){const[t,n]=u.useState(!0),[r,s]=u.useState(15),[c,o]=u.useState(0),[a,l]=u.useState([]),[d,g]=u.useState([]),[x,f]=u.useState([]),{tg:B}=N();u.useEffect(()=>{const _=setInterval(()=>{l(h=>{const v=et.map($=>({...$,id:m(),duration:Math.random()+3}));return[...h,...v]})},1e3);return()=>clearInterval(_)},[]);const D=_=>{l(h=>h.filter(v=>v.id!==_)),o(h=>h+1),B.HapticFeedback.impactOccurred("light")};return e.jsx(rt,{children:t&&e.jsxs("div",{className:b.falling_letters_container,children:[e.jsx(P,{time:r,setTimer:s,setIsVision:n}),e.jsx("img",{src:w,className:b.logo}),e.jsx(z,{count:c}),a.map(_=>e.jsx(q,{onClick:()=>D(_.id),id:_.id,x:_.x,duration:_.duration},_.id)),e.jsx(G,{setCount:o,blueLetter:d,setBlueLetter:g}),e.jsx(tt,{setCount:s,flasks:x,setFlask:f}),e.jsx(X,{count:c,setCount:o,setWhiteLetter:l,setBlueLetter:g,setFlask:f}),e.jsx("img",{src:nt,className:b.img_open_box})]})})}export{lt as default};
