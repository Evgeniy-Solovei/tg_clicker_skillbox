import{u as R,r,j as s}from"./index-Bo-eR_JQ.js";import{i as Y,u as v}from"./coin-BpkcyZK3.js";import{a as b,b as x,q as u}from"./queryClient-DzN13fHD.js";import{S as M}from"./SlidingPanel-FiPemMas.js";import{u as y}from"./useMutation-CvrEcQzQ.js";import{u as Z}from"./index-CiTlNmoa.js";const U="_task__section_168yp_1",K="_tasks_list_168yp_6",T="_task_title_168yp_10",O="_task__item_168yp_19",z="_coins_box_168yp_32",G="_task_name_168yp_38",D="_coins_168yp_32",J="_icon_168yp_54",P="_task_heading_168yp_62",h={task__section:U,tasks_list:K,task_title:T,task__item:O,coins_box:z,task_name:G,coins:D,icon:J,task_heading:P};function V(e){return b.get(`${x}/api/tasks/${e}/`).then(t=>t.data).catch(t=>{console.log(t)})}const W=(e,t)=>b.post(`${x}/api/tasks_tg/`,{tg_id:e,task_dop_name:t}).then(i=>i.data).catch(i=>i),q=(e,t)=>b.post(`${x}/api/tasks/start/${e}/${t}/`).then(i=>i.data).catch(i=>i),L=(e,t)=>b.post(`${x}/api/tasks/${e}/${t}/`).then(i=>i.data).catch(i=>i),X=(e,t,i,l)=>b.post(`${x}/api/task_info/`,{tg_id:e,country:t,name_player:i,phone:l}).then(c=>c.data).catch(c=>c),$="_task_title_1ur01_1",ss="_task_item_1ur01_10",es="_task_name_1ur01_26",ts="_coins_box_1ur01_33",ns="_task_btn_1ur01_41",cs="_task_compl_btn_1ur01_58",as="_coins_1ur01_33",is="_icon_1ur01_81",os="_coin_img_1ur01_89",rs="_iconLock_1ur01_94",d={task_title:$,task_item:ss,task_name:es,coins_box:ts,task_btn:ns,task_compl_btn:cs,coins:as,icon:is,coin_img:os,iconLock:rs},As="/assets/iconInst-KKVCkHXf.png",ls="/assets/refFriend-ClCxNyvZ.png",_s="/assets/iconTel-B2YMwMca.png",ms="/assets/iconS-B6ipBvZu.png",ds="/assets/iconHeartY-D2heBaz7.png",us="/assets/iconWebinar-CLWn8zyl.png",gs="/assets/iconYoutube-iurrvn-W.png",ps="/assets/imgFirstTask-BQIMGM7V.png",ks=(e,t)=>{switch(e){case"Подписка на инстаграм":return t(As);case"Пригласи друга по реферальной ссылке":return t(ls);case"Подписка на телеграм":return t(_s);case"Подпишись на бота Skillbox":return t(ms);case"Посмотри видео на YouTube":return t(ds);case"Посмотри вебинар":return t(us);case"Подписка на YouTube":return t(gs);case"Заполни анкету":return t(ps)}},hs="_sliding__block_dyrsg_1",bs="_name_title_dyrsg_14",xs="_coin_box_dyrsg_23",ys="_img_coin_dyrsg_30",js="_coins_dyrsg_35",fs="_btn_dyrsg_43",Bs="_text_info_dyrsg_58",Cs="_btn_check_dyrsg_67",Is="_form_box_dyrsg_82",Rs="_input_name_dyrsg_89",Ss="_select_region_dyrsg_113",Fs="_btn_submit_dyrsg_132",Ns="_input_box_dyrsg_146",Ys="_icon_input_dyrsg_153",Es="_iconCheckbox_dyrsg_161",ws="_agreement_box_dyrsg_167",Qs="_agreement_text_dyrsg_171",Hs="_link_agr_dyrsg_178",a={sliding__block:hs,name_title:bs,coin_box:xs,img_coin:ys,coins:js,btn:fs,text_info:Bs,btn_check:Cs,form_box:Is,input_name:Rs,select_region:Ss,btn_submit:Fs,input_box:Ns,icon_input:Ys,iconCheckbox:Es,agreement_box:ws,agreement_text:Qs,link_agr:Hs},vs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAzCAYAAADVY1sUAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJISURBVHgB7ZjfahNBFMa/M9tNK1gbEDRS/2xBavHGvIHbJ7Bv0HjplfQNeukreNX4Br5B0zeIdyKCIygNgjjBf8HtznEGE+lF22xmT2gL84NlWXbYnW/mnDnfDBCJRCKRSCRy4SDMidbt+49JJW0GN//9iExZcu/L53dvMAfEhbRaGxnSco+I8pPeM6CpKPLDww8fIYiCNA27f5oIjxu5jNO012xmTQgiKqR1d33bd3RaO99m8Vq6DUFEhRBjq3rj02ctBNnQoumz8f/HjDYEEc4REo37WZBP9nPiPIUYCCIsxL6u2tIVyj4EERXCiisLgU1eQRBRIQP9/sCtXFPFuNnoDj697UEQ8RxZpD9P3e2MsOH+SBU7ECaBMMaY0Y/h15dXV65jXOXHphHG+awXTsQzo7Voos8F76G88508t7KNzF+T5xur64+kfZZHxP36jjPRFvlr7LWsDy+2u2yVThqF4TLNwdyZGErrQsxZmj4dHe1KOOFaQvzIXllu7LmvVPdYJ8DM3dH3YseY8JBbQA2cg913t9qeyc1SZ2k5zVyJ3EQgwauWt+wKJGb8fMjdvPPgCQIJFjKTZa+K4g4CCRdCyCFMHWsfLITH9UGYDIEECTleF6S5tbZ2DwHE/chFI0jIEka+cGnIo39/4yECCBKineljpTZdwnchBVEPSZGHVvfaXssnPtvyeeIKGs+4fLolvG/Z7V+UOhjoevsT8SPT1exhu4RtokRGxCvHz36ZaUiJNQoL+id+6Uth5yORSCQSiUTC+QvVX7KMdrq20AAAAABJRU5ErkJggg==",Ms="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAzCAYAAADVY1sUAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQwSURBVHgB7ZgxcxtFFMff20MhGTvWyRB8gtg5zdjGnU2XLkpFOouODuUTQDq6iA4qzDdwPgGidGX5E0R0WDajk8A5w0ySsxFjW5H28VZ2iKKcdafdy0yK+8145mZ1u77/7tu3/7cAKSkpKSkpKSnvHAgJ49xcvEOIJR65KABdbrL5LyCiOgHURa+34fvNFiRMYkKUAECsIGIx6l0WtYm9XiVJQYkIcRYWHyKICkwEBZKo/Ncf+79AAlhgSH5+6UdE8S1MDF7l1ftyOmt7naPnv4IhRiuitxKjUNDvY/Hvg4aRGAGaOM6KGy0CPd43NZ6tYMw7thC0AYZoC4GMfHjpbwhVsF64fnu34Ld27z5pN3IkxF3+xQt9nRPEIFkYoC+E02tYM0mo+K3GF37z9Yx06P1We190P+PHeuh4AstggNYecdzFOyhFLeQnz283Cnp9KfDbeznQRGtFRN+yw9r5wNuECA69/R0IXRW0bdu1QRMtIRLwspnzIAZ0SXhdy2EWNNHfIwYgQejMnzynI9BES4gl+6EzSgQliAEhrIW0BkHgBaCJlpCDg7162NkgEEr5fOHWuL75haWvua872i75vAEDtEOLgDZD2zOZ2mVi5uYX1zmwQg8/DrcqGKBtUcakYFBhQurD2OVKEgEKyS4AvxnjjCPTdhRGXit/a/lniLkvxsFZrHzYbjwCA4yyFqF4MN5HxYD3hqkIhZEQth0eqymDPh6IbhkSwLge+ef46e509gMVo0WYEGFB8Unz911IAC0hH32yvHo9m1vpHD8bGMPO0dOd69lZPuTwdtwx1L5gc7mlnpU1yd748POZqexppxNoHYoThZazsPyVM7+0bVlQRyFqzs3l/608G74H/HGVOOOMbu5rM1e2BYoqZDKeGl/H0scSooqouYWlxxw+m8MplJBesxr8cd+NE6MSgyRZGt3cw6lTja8maY5LaJiAWKE1PTv7mK92VoY/iD/4+zPrxQ+nQXA6/O5FmHEmw3sjw3i8J+75rb2d0fGncje2+Myx8fzqyL4QdHtqZtb+9/jZFsQg8hz5eP7TdZ75l6eux5XefVUkRfVzXC6FpdwGZUe4YjzB7v3Ai/ZSHL58D/BqVU+Ou7k4HiwytIYtO99HeXh21oQYqNSsTmsWXlAVYxwRCqsPVRoqB+Ja+8gVcV3X7sorTbpY8sE/Iaop+3H45/4OJIDKWlen31sNueCLbV1iWRSVrTC8+htcharTmUjW2fgFmOl7qq4IC4d84dxMyp61xndhNvdd43H5GZWtH61RPL7AKI7W/kZCBmI45kFKFb9leIsMMhvAxqno/hQ3HC/6Tcb5JqZ17lni8CpCAgyyIGKd47Z6Is4eTSJgaAwzWFiRha1yfWK/DBHkZyJ8o5xFZHvPl3ZIpGad95po8QFQG3i2lJSUlJSUFHP+A/r1rP82Q9R+AAAAAElFTkSuQmCC",Zs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAzCAYAAADVY1sUAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKRSURBVHgB7ZhNTttAFIDfG8sCmj+XtFVQ/4yKELvmBuQIuQFh2R03KL0BnKDpsrv0BDXL7siuCpUwoCqpVCIHuatQT+dFiuTSOvaMjY3QfCtH7zmabzzz/MYAGo1Go9FoNHcOBEUsy7ZWqks7HLiF02l3ODw9gwJREiGJpar5mQE26TcHcIVMq0gZaZGbEnOKlpESiZKYU6QMk0leqZhvoyQIMSs2N01nbW39JeSMlAhHbMflzGXo6UGOSInQIJPmmZaZKDcrZEW8hKnu1Ju6kCNSIgHy47gckmUGtD3PTSqdCVIiYpM4i8IkgQa0vp8O+pAzciIscBaFi5IgpERG7rcjjtyJiv+eBrlWqjByT4Tg2I2MIe5DQRggiT+57Fdq9Y64/Gf2EdEu1Va9X5PxF8gZ+Sci4CzoRP8hHjx5uvkackZJJG6viPLby7tNURKZgcZu1AuyiJ5L+WBFNOyNbQyYExWP64Ybzza2ObI9BO7h9fV+mq5ZerOH8b3xWblWp9lo/S+OVBAM1inXHo2oSIRjjRevdhCNHiJsiSLR5IbRrjyo9nzfm4ACqUQIMcCjcrVuiwFFtPe4LITa5eqqXSnVjmmgMwkwun9lCek0MqmWVpjG8833QqYTlxdw6DGEyOOA6uEsMxEiqUwcKjKpl1YY/+ry06I9k5TZMmOs6V+NPyS9R738RjA6H7wTc7oHKREFoCWTn7kIMTw/ORQzui4uXVAk4PxAJj/TpRXG9356oqId0lITs0UVbTnpvZxD98fFyRuQ4NZE5lB5Lj18/FGMzkKAZlw+SYwuBrsgSaZVK46GvWVDEIh3yKyy2TfjqhJEriJhSAohaIoPAbN+jDPsj9yvDmg0Go1Go9HcH/4AuzvzMfyBSJsAAAAASUVORK5CYII=",Us="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAZCAYAAAArK+5dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE0SURBVHgB3ZU9UsJAGIbfb7WksIQujZ7BP5QbeIUlN/AEUmkbD6CMrfbaogmDpd7AktIDAB/7EZgJkIVZstvwzGSy2d153sn+EuY0z/iaCS14gBi9dECfs/JMfsFd89LwS5L26ZYuz/mOCB0EgBkdZeQagTDDo5V5RwgFIVLwRK1WXu8lQMfAk1km9fp62yEqIvI4zsvHJ8BwuNxe6Q+K8od7IP1a77NzwKr84728nzXANmkucmuATJZMmo6rya0BzSug0chFxRBXuVC6it5e8yFqF4SCq1wgc9CxrVEC2ivD5CIXNq6i7nP+7CoXtm60RYBsIFe5sHGIfODtsNvjAHPr/CEQZnJ/1GSCBIHgMRKVDehRLmd4Rpz9b3qhRUXrlKMR4cbco0eoAuMfB/jNMurJ5xT1OGI/lUVFwQAAAABJRU5ErkJggg==",C={by:"https://skillbox.by/consent_access.pdf",kz:"https://skillbox.kz/privacy_policy.pdf",uz:"https://skillbox.uz/privacy_policy.pdf"};function Ks(e){return e===2?"Пригласить":e===11||e===12?"Смотреть":"Подписаться"}function Ts({fullHeight:e,initialHeight:t,isOpen:i,onClose:l,task:c}){const{tg:_,tg_id:A}=R(),g=y({mutationFn:n=>q(n.tg_id,n.don_name),onSuccess:n=>{n.start_time&&(window.location.href=c.task.link)}},u),p=y({mutationFn:n=>L(n.tg_id,n.dop_name),onSuccess:()=>{l(),u.invalidateQueries({queryKey:["tasks"]}),_.HapticFeedback.impactOccurred("medium")}},u),m=y({mutationFn:n=>W(n.tg_id,n.dop_name),onSuccess:n=>{n.message=="Пользователь не подписан на канал."||u.invalidateQueries({queryKey:["tasks"]}),l()}},u),o=()=>{c.task.link&&c.task.name!=="Подписка на телеграм"?(_.HapticFeedback.impactOccurred("medium"),g.mutate({tg_id:A,don_name:c.task.dop_name})):c.task.link&&(window.location.href=c.task.link,_.HapticFeedback.impactOccurred("medium"))},E=()=>{c.start_time?p.mutate({tg_id:A,dop_name:c.task.dop_name}):c.task.name==="Подписка на телеграм"?m.mutate({tg_id:A,dop_name:c.task.dop_name}):window.location.href=c.task.link,_.HapticFeedback.impactOccurred("medium")},[j,S]=r.useState(""),[k,F]=r.useState("by"),[f,N]=r.useState(""),[w,B]=r.useState(""),Q=y({mutationFn:n=>X(n.tg_id,n.country,n.name_player,n.phone),onSuccess:()=>{u.invalidateQueries({queryKey:["tasks"]}),S(""),F("by"),N(""),l(),_.HapticFeedback.impactOccurred("medium")}},u);r.useEffect(()=>{switch(k){case"by":B(C.by);break;case"kz":B(C.kz);break;case"uz":B(C.uz);break}},[k]);const H=n=>{n.preventDefault(),_.HapticFeedback.impactOccurred("medium"),j&&f&&k&&Q.mutate({tg_id:A,name_player:j,country:k,phone:f})};return s.jsx(M,{initialHeight:t,fullHeight:e,darkened:!0,isOpen:i,onClose:l,children:s.jsx("div",{className:a.sliding__block,children:c.task.name==="Заполни анкету"?s.jsxs("form",{className:a.form_box,onSubmit:H,children:[s.jsxs("div",{className:a.input_box,children:[s.jsx("img",{className:a.icon_input,src:vs}),s.jsx("input",{className:a.input_name,type:"text",value:j,onChange:n=>S(n.target.value),placeholder:"Имя"})]}),s.jsxs("div",{className:a.input_box,children:[s.jsx("img",{className:a.icon_input,src:Ms}),s.jsxs("select",{className:a.select_region,value:k,onChange:n=>F(n.target.value),children:[s.jsx("option",{disabled:!0,defaultValue:"Регион",children:"Регион"}),s.jsx("option",{value:"by",children:"Беларусь"}),s.jsx("option",{value:"kz",children:"Казахстан"}),s.jsx("option",{value:"uz",children:"Узбекистан"})]})]}),s.jsxs("div",{className:a.input_box,children:[s.jsx("img",{className:a.icon_input,src:Zs}),s.jsx("input",{className:a.input_name,type:"tel",value:f,onChange:n=>N(n.target.value),placeholder:"Номер телефона"})]}),s.jsx("button",{className:a.btn_submit,type:"submit",children:"Отправить"}),s.jsxs("div",{className:a.agreement_box,children:[s.jsx("img",{src:Us,className:a.iconCheckbox}),s.jsxs("span",{className:a.agreement_text,children:["Соглашаюсь с"," ",s.jsx("a",{className:a.link_agr,href:w,children:"условиями передачи данных"})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:a.name_title,children:c.task.name}),s.jsxs("div",{className:a.coin_box,children:[s.jsx("img",{className:a.img_coin,src:Y,alt:""}),s.jsx("span",{className:a.coins,children:c.task.reward_currency})]}),s.jsx("button",{onClick:o,className:a.btn,children:Ks(+c.task.id)}),s.jsx("p",{className:a.text_info,children:"Оставшееся время для модерации, чтобы получить награду: 1 час"}),s.jsx("button",{onClick:E,className:a.btn_check,children:"Проверить"})," "]})})})}const Os="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANqSURBVHgB7Z3hcRMxEEY/M/yPqYBLBZgKYiogHSRUEDqwqSCkAtIBTgU5KrCpwEcFCRUILafMBAOns1arWcv7ZjSZydmXuZf16iTtyYBhGMZ/mUA5zrmp/3HiWxPa41ObTCbfYeyPl3rm27VvaxdnHV77BsYwQey9S4dkX8D4Ey+lYYrd5atvr2H8lvvetweXny2dG8eMF7Bw8ixwjBSSe5ySXZ8WSnMc6cL1Hdp2pBTKzQvf5vS+Z+eYht9d73mu+js+1/fwY2Rc7XHOKzeuo7xHzfgLvBghYZsSaW78J+MMteLiI7OtY3yMR0quM4r9hc0iF54lRwbJsXRRLIpfoByxIezST978ABN/jo7OFXnZOWojkh62yEwkitcoRMkIng0cWyE/nweOUbqaogBFBFP+jbzkDvlpI8cbFKBUBJ9Ejm+Qn1g+ryeCPadDB33H9IjMhM5uiCKjupI5+CgxwcKYYGFMsDAmWBgTLIwJFuYlMhJmqWgiZfcmvom87wvKc+n/7nznd51vrb+H/oZMZCmdcv1yDkmaow463+ZZZvfAxPUlSy0KDT0LQqPLObf+jSU4RC6tEDSoE5I840Qyt5OjeoMG9UKfyiUYJEdwmE99QP1QFJ+mTkhxIvhYykUpkBokwhFcW6c2RHIwcQS/ghHFRnLCmGBhTLAwJlgYEyyMCRbGBAtjgoUxwcJkXdEQZhPa09xArN5NBYcgeOnbze5sVpiLpunSSyhGc4ogoe+82E//miqk2jPfPqCP5Oy1bbnQLJiWa9rYi8KSjtqKda2Cb/dZCwurwEsoRKvgJfbnBgrRKHiTssgY8rREITcLjYI7pNNBGRoFq70jSEGjYM4AooEyVApOecQqDDzUje603kWMftKe+R5x1N6m7fM8caiP+wiFaB7JrdyIvdDCP6KFUjQLpjy8cf2OJ3890+b6XU9osqeF4iKYQ5lNo5RBg4gOoeIRNl2ZnYOR+hxb0RDGBAtjgoUxwcKYYGFMsDAmWBgTLIwJFsYEjyN5lYUjWN0CoyA/kQhHcIfK1s8GSA6mZMFhmXyF+rnlbDuW42Fw2gey1ocSOzC3NWB1cmHztznqTBV0TefcPSPYdxGhhuwtFBZ9MGjRb2PA/q6krF8WFbZooTWyBocJRe3dmKpOwzAMwzAM46D5BQKPEAynaIyeAAAAAElFTkSuQmCC";function I({task:e,allTasks:t}){const{tg:i}=R(),[l,c]=r.useState(),[_,A]=r.useState(!1),g=Z({query:"(max-height: 690px)"}),p=()=>{const o=t[0].completed;i.HapticFeedback.impactOccurred("medium"),!o&&e.task.id===1?A(!0):A(!1),e.task.id!==1&&o&&A(!0),e.task.id===2&&A(!1)},m=()=>{A(!1),i.HapticFeedback.impactOccurred("medium")};return r.useEffect(()=>{ks(e.task.name,c)},[e]),s.jsxs(s.Fragment,{children:[s.jsxs("li",{onClick:p,className:d.task_item,children:[e.task.id>=2&&!t[0].completed&&s.jsx("img",{src:Os,className:d.iconLock}),s.jsx("p",{className:d.task_name,children:e.task.name}),e.task.id>=2&&!t[0].completed&&s.jsx(s.Fragment,{}),e.completed?s.jsx("button",{disabled:!0,className:d.task_compl_btn,children:e.completed&&"Награда получена"}):e.task.id>=2&&!t[0].completed?s.jsxs("button",{disabled:!0,className:d.task_compl_btn,children:["Заполните профиль"," "]}):s.jsxs("div",{className:d.coins_box,children:[s.jsx("img",{className:d.coin_img,src:Y,alt:""}),s.jsx("span",{className:d.coins,children:e.task.reward_currency})]}),s.jsx("img",{className:d.icon,src:l})]}),s.jsx(Ts,{isOpen:_,onClose:m,initialHeight:g?"100%":"70%",fullHeight:"100vh",task:e})]})}function Ws(){const{tg_id:e}=R(),[t,i]=r.useState([]),[l,c]=r.useState([]),[_,A]=r.useState([]),[g,p]=r.useState([]),{data:m}=v({queryFn:()=>V(e),queryKey:["tasks"]},u);return r.useEffect(()=>{m&&(i(m),c(m.filter(o=>o.task.heading==="Задания")),A(m.filter(o=>o.task.heading==="Подпишись на соцсети")),p(m.filter(o=>o.task.heading==="Временные задания")))},[m]),s.jsx(s.Fragment,{children:s.jsxs("section",{className:h.task__section,children:[s.jsx("h1",{className:h.task_title,children:"Задания"}),s.jsxs("ul",{className:h.tasks_list,children:[l.map(o=>s.jsx(I,{allTasks:t,task:o},o.task.id)),s.jsx("h2",{className:h.task_heading,children:"Подпишись на соцсети"}),_.map(o=>s.jsx(I,{allTasks:t,task:o},o.task.id)),s.jsx("h2",{className:h.task_heading,children:"Временные задания"}),g.map(o=>s.jsx(I,{allTasks:t,task:o},o.task.id))]})]})})}export{Ws as default};
