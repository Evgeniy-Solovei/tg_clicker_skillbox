import{j as e,r as l,u as b}from"./index-ztFMVL4v.js";import{l as $}from"./logo-C9EBW7GV.js";const E="_falling_letters_container_1qnkf_1",M="_img_open_box_1qnkf_21",B="_logo_1qnkf_33",C="_canv_1qnkf_47",y={falling_letters_container:E,img_open_box:M,logo:B,canv:C},U="/assets/S-white-DJHRycHD.png",R=({x:t,duration:n,id:r,onClick:c})=>e.jsxs("button",{className:"btn",onTouchStart:()=>c(r),id:r,style:{left:`${t}%`,animationDuration:`${n}s`},children:[" ",e.jsx("img",{src:U,className:"falling_letter_white"})]}),i=[];for(let t=0;t<256;++t)i.push((t+256).toString(16).slice(1));function L(t,n=0){return(i[t[n+0]]+i[t[n+1]]+i[t[n+2]]+i[t[n+3]]+"-"+i[t[n+4]]+i[t[n+5]]+"-"+i[t[n+6]]+i[t[n+7]]+"-"+i[t[n+8]]+i[t[n+9]]+"-"+i[t[n+10]]+i[t[n+11]]+i[t[n+12]]+i[t[n+13]]+i[t[n+14]]+i[t[n+15]]).toLowerCase()}let k;const T=new Uint8Array(16);function q(){if(!k){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");k=crypto.getRandomValues.bind(crypto)}return k(T)}const H=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),I={randomUUID:H};function _(t,n,r){if(I.randomUUID&&!n&&!t)return I.randomUUID();t=t||{};const c=t.random||(t.rng||q)();return c[6]=c[6]&15|64,c[8]=c[8]&63|128,L(c)}const V="_timer_container_1vdlq_1",O="_time_1vdlq_1",N={timer_container:V,time:O},P=t=>{const n=Math.floor(t%3600/60),r=t%60;return`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`};function A({setIsVision:t,time:n,setTimer:r}){return l.useEffect(()=>{const c=setInterval(()=>{r(u=>u-1)},1e3);return()=>clearInterval(c)},[n]),l.useEffect(()=>{n===0&&t(!1)},[n]),e.jsx("div",{className:N.timer_container,children:e.jsx("div",{className:N.time,children:P(n)})})}const J="/assets/S-blue-Dh_q71fZ.png",W=[{id:_(),duration:3,x:38},{id:_(),duration:1,x:58}],G=({setCount:t,blueLetter:n,setBlueLetter:r})=>{const{tg:c}=b(),u=l.useRef([]),[m,x]=l.useState(0),d=a=>{r(o=>o.filter(s=>s.id!==a)),t(o=>o<=3?0:o-3),c.HapticFeedback.impactOccurred("light")};return l.useEffect(()=>{const a=setInterval(()=>{if(m<5){const o=W.map(s=>({...s,id:_(),duration:Math.random()+2}));r(s=>[...s,...o]),x(s=>s+1)}},2e3);return()=>clearInterval(a)},[m]),l.useEffect(()=>{const o=setInterval(()=>{u.current.forEach((s,h)=>{s&&s.getBoundingClientRect().bottom>=window.innerHeight&&(t(v=>v+3),r(v=>v.filter((g,f)=>f!==h)))})},10);return()=>clearInterval(o)},[n,t,r]),e.jsx(e.Fragment,{children:n.map((a,o)=>e.jsxs("button",{className:"btn_blue",onTouchStart:()=>d(a.id),id:a.id,ref:s=>u.current[o]=s,style:{left:`${a.x}%`,animationDuration:`${a.duration}s`},children:[" ",e.jsx("img",{className:"falling_letter_blue",src:J})]},a.id))})},K="_counter_container_47eta_1",Z="_counter_47eta_1",w={counter_container:K,counter:Z};function z({count:t}){return e.jsx("div",{className:w.counter_container,children:e.jsx("div",{className:w.counter,children:t})})}const Q="/assets/bomb-DeoDqckm.png";function D(){return Math.floor(Math.random()*81)+10}function X({setCount:t,setWhiteLetter:n,setBlueLetter:r,setFlask:c,count:u}){const[m,x]=l.useState([]),{tg:d}=b(),a=o=>{x(s=>s.filter(h=>h.id!==o)),n([]),r([]),c([]),u<=10?t(0):t(s=>s-10),d.HapticFeedback.impactOccurred("heavy")};return l.useEffect(()=>{const s=setInterval(()=>{const h={x:D(),duration:Math.random()+2,id:_().toString()};x(p=>[...p,h])},4e3);return()=>clearInterval(s)},[]),e.jsx(e.Fragment,{children:m.map(o=>e.jsxs("button",{className:"btn_bomb",onTouchStart:()=>a(o.id),id:o.id,style:{left:`${o.x}%`,animationDuration:`${o.duration}s`},children:[" ",e.jsx("img",{src:Q,className:"falling_bomb"})]},o.id))})}const Y="/assets/flask-0VLBKfJP.png";function tt({setCount:t,flasks:n,setFlask:r}){const{tg:c}=b(),u=d=>{r(a=>a.filter(o=>o.id!==d)),t(a=>a+5),c.HapticFeedback.impactOccurred("light")},[m,x]=l.useState(0);return l.useEffect(()=>{const a=setInterval(()=>{if(m<3){const o={x:D(),duration:Math.random()+2,id:_().toString()};r(s=>[...s,o]),x(s=>s+1)}},4200);return()=>clearInterval(a)},[m]),e.jsx(e.Fragment,{children:n.map(d=>e.jsxs("button",{className:"btn_flask",onTouchStart:()=>u(d.id),id:d.id,style:{left:`${d.x}%`,animationDuration:`${d.duration}s`},children:[" ",e.jsx("img",{src:Y,className:"falling_flask"})]},d.id))})}const nt="/assets/open-box-BIBPcrIn.png",et=[{id:_(),duration:Math.random()*3+2,x:10},{id:_(),duration:Math.random()*3+2,x:30},{id:_(),duration:Math.random()*3+2,x:50},{id:_(),duration:Math.random()*3+2,x:70},{id:_(),duration:Math.random()*3+2,x:85}],ot="_modal_7v2vv_1",st="_overlay_7v2vv_14",at="_content_7v2vv_20",S={modal:ot,overlay:st,content:at};function rt({children:t}){return e.jsx("div",{className:S.modal,children:e.jsx("div",{className:S.overlay,children:e.jsx("div",{className:S.content,children:t})})})}function lt(){const[t,n]=l.useState(!0),[r,c]=l.useState(15),[u,m]=l.useState(0),[x,d]=l.useState([]),[a,o]=l.useState([]),[s,h]=l.useState([]),{tg:p}=b();l.useEffect(()=>{const g=setInterval(()=>{d(f=>{const j=et.map(F=>({...F,id:_(),duration:Math.random()+1.8}));return[...f,...j]})},800);return()=>clearInterval(g)},[]);const v=g=>{d(f=>f.filter(j=>j.id!==g)),m(f=>f+1),p.HapticFeedback.impactOccurred("light")};return e.jsx(rt,{children:t?e.jsxs("div",{className:y.falling_letters_container,children:[e.jsx(A,{time:r,setTimer:c,setIsVision:n}),e.jsx("img",{src:$,className:y.logo}),e.jsx(z,{count:u}),x.map(g=>e.jsx(R,{onClick:()=>v(g.id),id:g.id,x:g.x,duration:g.duration},g.id)),e.jsx(G,{setCount:m,blueLetter:a,setBlueLetter:o}),e.jsx(tt,{setCount:c,flasks:s,setFlask:h}),e.jsx(X,{count:u,setCount:m,setWhiteLetter:d,setBlueLetter:o,setFlask:h}),e.jsx("img",{src:nt,className:y.img_open_box})]}):e.jsx("h1",{style:{color:"white"},children:u})})}export{lt as default};
