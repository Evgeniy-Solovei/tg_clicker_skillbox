import{r as p,j as t,u}from"./index-C9h0uLkK.js";import{u as d}from"./useQuery-Dt9R8wZp.js";import{a as h,b as f,q as x}from"./queryClient-B3yILKih.js";const j="_catalog__section_pob4f_1",y="_catalog__list_pob4f_6",b="_category__caption_pob4f_10",C="_catalog__title_pob4f_31",i={catalog__section:j,catalog__list:y,category__caption:b,catalog__title:C};function N(c){return h.get(`${f}/api/shop/product-list/${c}/`,{headers:{"Cache-Control":"no-cache","Content-Type":"application/json"}}).then(a=>a.data).catch(a=>{console.log(a)})}const k="_catalog__item_1okb0_1",B="_catalog__upper_1okb0_17",q="_catalog__price_1okb0_21",v="_catalog__info_1okb0_28",w="_catalog__down_1okb0_35",M="_catalog__img_1okb0_41",D="_catalog__profession_1okb0_45",o={catalog__item:k,catalog__upper:B,catalog__price:q,catalog__info:v,catalog__down:w,catalog__img:M,catalog__profession:D},S="/assets/iconBook-Dt4xzM-P.png",E="/assets/sale5-BHXnLRWG.png",F="/assets/sale10-DNBte8BQ.png",_="/assets/useful_materials-Cfmv-Iql.png",g="/assets/miniCurs-DjvlySZB.png",$="/assets/iconMerch-BICvc0cD.png",P=(c,a)=>{switch(c){case"Пройдите профтест на ....":return a(S);case"Скидка 5% на все курсы":return a(E);case"Скидка 10% на все курсы":return a(F);case"Python-разработчик":return a(_);case"Бизнес-аналитик":return a(_);case"Веб-дизайнер":return a(_);case"40 правил идеального текста для соцсетей":return a(_);case"Как найти клиентов фрилансеру":return a(_);case"Введение в программирование":return a(g);case"Введение в маркетинг":return a(g);case"Введение в дизайн":return a(g);case"Эксклюзивная байка":return a($)}},m=({id:c,name:a,price:l,description:r})=>{const[e,s]=p.useState();return p.useEffect(()=>{P(a,s)},[a]),t.jsxs("li",{className:o.catalog__item,children:[t.jsxs("div",{className:o.catalog__upper,children:[t.jsx("p",{className:o.catalog__price,children:l}),t.jsx("h2",{className:o.catalog__info,children:a})]}),t.jsxs("div",{className:o.catalog__down,children:[t.jsx("img",{className:o.catalog__img,src:e,alt:"предмет каталога"}),t.jsx("span",{className:o.catalog__profession,children:r})]})]},c)},z=()=>{const{tg_id:c}=u(),{data:a}=d({queryFn:()=>N(c),queryKey:["catalog"]},x),r=["Каталог","Скидки","Полезные материалы","Мини-курсы","Мерч"].filter(e=>e!=="Каталог");return t.jsxs("section",{className:i.catalog__section,children:[t.jsx("h1",{className:i.catalog__title,children:"Каталог"}),t.jsxs("ul",{className:i.catalog__list,children:[a==null?void 0:a.shops.filter(e=>e.name==="Каталог").map(e=>e.products.map(s=>t.jsx(m,{id:s.id,name:s.name,price:typeof s.price=="number"?"Бесплатно":s.price,description:e.description},s.id))),r.map(e=>t.jsxs(t.Fragment,{children:[t.jsx("li",{style:{margin:"30px 0"},children:t.jsx("h2",{className:i.category__caption,children:e})}),a==null?void 0:a.shops.filter(s=>s.name===e).map(s=>s.products.map(n=>t.jsx(t.Fragment,{children:t.jsx(m,{id:n.id,name:n.name,price:n.price,description:s.description},n.id)})))]}))]})]})};export{z as default};
