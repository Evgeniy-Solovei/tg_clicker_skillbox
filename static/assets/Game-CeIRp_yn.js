import{j as e,r as d,u as v}from"./index-J88OHN87.js";import{l as w}from"./logo-C9EBW7GV.js";const B="_falling_letters_container_1qnkf_1",M="_img_open_box_1qnkf_21",E="_logo_1qnkf_33",L="_canv_1qnkf_47",j={falling_letters_container:B,img_open_box:M,logo:E,canv:L},U="/assets/S-white-DJHRycHD.png",C=({x:t,duration:n,id:a,onClick:s})=>e.jsxs("button",{className:"btn",onTouchStart:()=>s(a),id:a,style:{left:`${t}%`,animationDuration:`${n}s`},children:[" ",e.jsx("img",{src:U,className:"falling_letter_white"})]}),i=[];for(let t=0;t<256;++t)i.push((t+256).toString(16).slice(1));function T(t,n=0){return(i[t[n+0]]+i[t[n+1]]+i[t[n+2]]+i[t[n+3]]+"-"+i[t[n+4]]+i[t[n+5]]+"-"+i[t[n+6]]+i[t[n+7]]+"-"+i[t[n+8]]+i[t[n+9]]+"-"+i[t[n+10]]+i[t[n+11]]+i[t[n+12]]+i[t[n+13]]+i[t[n+14]]+i[t[n+15]]).toLowerCase()}let y;const q=new Uint8Array(16);function H(){if(!y){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");y=crypto.getRandomValues.bind(crypto)}return y(q)}const R=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),S={randomUUID:R};function _(t,n,a){if(S.randomUUID&&!n&&!t)return S.randomUUID();t=t||{};const s=t.random||(t.rng||H)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,T(s)}const V="_timer_container_1vdlq_1",O="_time_1vdlq_1",I={timer_container:V,time:O},A=t=>{const n=Math.floor(t%3600/60),a=t%60;return`${n.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`};function P({setIsVision:t,time:n,setTimer:a}){return d.useEffect(()=>{const s=setInterval(()=>{a(g=>g-1)},1e3);return()=>clearInterval(s)},[n]),d.useEffect(()=>{n===0&&t(!1)},[n]),e.jsx("div",{className:I.timer_container,children:e.jsx("div",{className:I.time,children:A(n)})})}const J="/assets/S-blue-Dh_q71fZ.png",W=[{id:_(),duration:3,x:38},{id:_(),duration:1,x:58}],G=({setCount:t,blueLetter:n,setBlueLetter:a})=>{const{tg:s}=v(),g=o=>{a(c=>c.filter(r=>r.id!==o)),t(c=>{if(c<=3)c=0;else return c-3;return c}),s.HapticFeedback.impactOccurred("light")};return d.useEffect(()=>{const o=setInterval(()=>{a(c=>{const r=W.map(u=>({...u,id:_(),duration:Math.random()+2}));return[...c,...r]})},2e3);return()=>clearInterval(o)},[]),e.jsx(e.Fragment,{children:n.map(o=>e.jsxs("button",{className:"btn_blue",onTouchStart:()=>g(o.id),id:o.id,style:{left:`${o.x}%`,animationDuration:`${o.duration}s`},children:[" ",e.jsx("img",{className:"falling_letter_blue",src:J})]},o.id))})},K="_counter_container_47eta_1",Z="_counter_47eta_1",N={counter_container:K,counter:Z};function z({count:t}){return e.jsx("div",{className:N.counter_container,children:e.jsx("div",{className:N.counter,children:t})})}const Q="/assets/bomb-DeoDqckm.png";function D(){return Math.floor(Math.random()*81)+10}function X({setCount:t,setWhiteLetter:n,setBlueLetter:a,setFlask:s,count:g}){const[o,c]=d.useState([]),{tg:r}=v(),u=l=>{c(m=>m.filter(h=>h.id!==l)),n([]),a([]),s([]),g<=10?t(0):t(m=>m-10),r.HapticFeedback.impactOccurred("heavy")};return d.useEffect(()=>{const m=setInterval(()=>{const h={x:D(),duration:Math.random()+2,id:_().toString()};c(f=>[...f,h])},4e3);return()=>clearInterval(m)},[]),e.jsx(e.Fragment,{children:o.map(l=>e.jsxs("button",{className:"btn_bomb",onTouchStart:()=>u(l.id),id:l.id,style:{left:`${l.x}%`,animationDuration:`${l.duration}s`},children:[" ",e.jsx("img",{src:Q,className:"falling_bomb"})]}))})}const Y="/assets/flask-0VLBKfJP.png";function tt({setCount:t,flasks:n,setFlask:a}){const{tg:s}=v(),g=r=>{a(u=>u.filter(l=>l.id!==r)),t(u=>u+5),s.HapticFeedback.impactOccurred("light")},[o,c]=d.useState(0);return d.useEffect(()=>{const u=setInterval(()=>{if(o<3){const l={x:D(),duration:Math.random()+2,id:_().toString()};a(m=>[...m,l]),c(m=>m+1)}},4200);return()=>clearInterval(u)},[o]),e.jsx(e.Fragment,{children:n.map(r=>e.jsxs("button",{className:"btn_flask",onTouchStart:()=>g(r.id),id:r.id,style:{left:`${r.x}%`,animationDuration:`${r.duration}s`},children:[" ",e.jsx("img",{src:Y,className:"falling_flask"})]}))})}const nt="/assets/open-box-BIBPcrIn.png",et=[{id:_(),duration:Math.random()*3+2,x:10},{id:_(),duration:Math.random()*3+2,x:30},{id:_(),duration:Math.random()*3+2,x:50},{id:_(),duration:Math.random()*3+2,x:70},{id:_(),duration:Math.random()*3+2,x:85}],st="_modal_7v2vv_1",ot="_overlay_7v2vv_14",at="_content_7v2vv_20",k={modal:st,overlay:ot,content:at};function rt({children:t}){return e.jsx("div",{className:k.modal,children:e.jsx("div",{className:k.overlay,children:e.jsx("div",{className:k.content,children:t})})})}function lt(){const[t,n]=d.useState(!0),[a,s]=d.useState(15),[g,o]=d.useState(0),[c,r]=d.useState([]),[u,l]=d.useState([]),[m,h]=d.useState([]),{tg:f}=v();d.useEffect(()=>{const x=setInterval(()=>{r(p=>{const b=et.map($=>({...$,id:_(),duration:Math.random()+2}));return[...p,...b]})},800);return()=>clearInterval(x)},[]);const F=x=>{r(p=>p.filter(b=>b.id!==x)),o(p=>p+1),f.HapticFeedback.impactOccurred("light")};return e.jsx(rt,{children:t&&e.jsxs("div",{className:j.falling_letters_container,children:[e.jsx(P,{time:a,setTimer:s,setIsVision:n}),e.jsx("img",{src:w,className:j.logo}),e.jsx(z,{count:g}),c.map(x=>e.jsx(C,{onClick:()=>F(x.id),id:x.id,x:x.x,duration:x.duration},x.id)),e.jsx(G,{setCount:o,blueLetter:u,setBlueLetter:l}),e.jsx(tt,{setCount:s,flasks:m,setFlask:h}),e.jsx(X,{count:g,setCount:o,setWhiteLetter:r,setBlueLetter:l,setFlask:h}),e.jsx("img",{src:nt,className:j.img_open_box})]})})}export{lt as default};
